<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta content="true" name="HandheldFriendly"/>
    <meta content="width" name="MobileOptimized"/>
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta property="og:image" content="/img/preview.webp"/>

    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Свадебное приглашение Даниил и Екатерина!"/>
    <meta property="og:image" content="https://ye-story.github.io/e-d.04-09.invite/img/preview.webp"/>
    <meta property="og:site_name" content="E & D"/>
    <meta
            property="og:description"
            content="Свадебное приглашение Даниил и Екатерина!"
    />

    <meta property="og:url" content="https://ye-story.github.io/e-d.04-09.invite/"/>

    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <title>E & D</title>
</head>

<body style="overflow: hidden">


<main>
    <div class="img-wrapper">
        <img src="" alt="" id="img1"/>

        <div class="locker" id="locker">

            <div class="locker__container">
                <img src="./img/locker.svg" alt="разблокировать приглашение">
            </div>

        </div>
    </div>

</main>

<script src="script.js?1001"></script>

<script>
    const locker = document.getElementById('locker');

    const audio = new Audio('assets/sound.mp3');
    audio.loop = true;
    audio.load();

    locker.addEventListener('click', () => {
        locker.remove();
        document.body.style.overflow = '';

        audio.play().catch((e) => {
            console.error('Ошибка воспроизведения:', e);
        });

    });

    document.addEventListener('visibilitychange', (e) => {

        if (document.visibilityState === "hidden") {
            audio.pause();
        } else {
            audio.play().catch((e) => {
                console.error('Ошибка воспроизведения:', e);
            });
        }
    });

</script>


</body>
</html>
